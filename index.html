<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>人数選択フォーム</title>
  <script>
    function createTable() {
      var table = document.getElementById("myTable");
      var num = document.getElementById("numPeople").value;
      table.innerHTML = ""; // 現在の表をクリアする
      
      // テーブルヘッダを作成する
      var header = table.createTHead();
      var row = header.insertRow(0);
      var cell = row.insertCell(0);
      cell.innerHTML = "名前";
      for (var i = 1; i <= num; i++) {
        cell = row.insertCell(i);
        cell.innerHTML = "選択" + i;
      }
      
      // テーブルボディを作成する
      var tbody = document.createElement("tbody");
      for (var j = 0; j < 5; j++) { // 例として5行作成する
        var row = tbody.insertRow(j);
        cell = row.insertCell(0);
        cell.innerHTML = "名前" + (j+1);
        for (var k = 1; k <= num; k++) {
          cell = row.insertCell(k);
          cell.innerHTML = '<input type="checkbox">';
        }
      }
      table.appendChild(tbody); // テーブルにテーブルボディを追加する
    }
  </script>
</head>
<body>
  <h1>人数選択フォーム</h1>
  <label>人数:</label>
  <input type="number" id="numPeople" min="1" max="10" value="1">
  <button onclick="createTable()">作成</button>
  <table id="myTable" border="1">
    <!-- ここにテーブルが生成される -->
  </table>
</body>
</html>
